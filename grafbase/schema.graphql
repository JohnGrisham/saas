enum IdentityType {
  CREDENTIALS
  GITHUB
}

enum PlanType {
  STARTER
  BUSINESS
  CUSTOM
}

type User @model {
  id: ID!
  name: String
  email: Email! @unique
  identities: [Identity!]!
  customer: Customer
}

type Identity @model {
  id: ID!
  sub: String
  type: IdentityType!
  user: User!
}

type Customer @model {
  id: ID!
  stripeId: String!
  plan: Plan!
  user: User!
}

type Plan @model {
  id: ID!
  planType: PlanType! @unique
  expiration: Timestamp!
  features: [Feature!]!
}

type Feature @model {
  id: ID!
  name: String!
  description: String
}

type UserList @model {
  id: ID!
  users: [User!]!
}

type IdentityList @model {
  id: ID!
  identities: [Identity!]!
}
